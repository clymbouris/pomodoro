function Pomodoro(t){var i=this;i.duration=t?ko.observable(t):ko.observable(1500),i.remaining=i.duration(),i.timer=ko.observable(i.remaining),i.elapsed=0,i.isPaused=ko.observable(!0),i.minutes=ko.computed(function(){return parseInt(i.timer()/60,10)}),i.seconds=ko.computed(function(){var t=parseInt(i.timer()%60,10);return 10>t?"0"+t:t}),i.mute=function(){i.audio.muted=!i.audio.muted,$soundBtn=$(".sound"),i.audio.muted?($soundBtn.removeClass("fa-bell-o"),$soundBtn.addClass("fa-bell-slash-o")):($soundBtn.removeClass("fa-bell-slash-o"),$soundBtn.addClass("fa-bell-o"))},i.audio={muted:!1,bell:new Audio("audio/bell.mp3"),tick:new Audio("audio/tick.mp3"),crank:new Audio("audio/crank.mp3"),tock:new Audio("audio/tock.wav")}}Pomodoro.prototype.clock=function(){var t=(new Date).getTime()-this.start;this.elapsed=Math.floor(t/100/10),Math.round(this.elapsed)===this.elapsed&&this.elapsed++,this.timer(this.remaining-this.elapsed),this.timer()<0?this.resetTimer():this.updateTitle()},Pomodoro.prototype.startTimer=function(){this.playSound("tick"),this.start=(new Date).getTime();var t=this;this.interval=setInterval(function(){t.clock()},100)},Pomodoro.prototype.playSound=function(t){if(!this.audio.muted)switch(t){case"bell":this.audio.bell.play();break;case"crank":this.audio.crank.play();break;case"tick":this.audio.tick.play();break;case"tock":this.audio.tock.play()}},Pomodoro.prototype.updateTitle=function(){document.title=this.isPaused()?"pomodoro":this.minutes()+":"+this.seconds()},Pomodoro.prototype.resetTimer=function(){this.playSound("bell"),clearInterval(this.interval),this.isPaused(!0),this.updateTitle(),this.setTimer(this.duration())},Pomodoro.prototype.setTimer=function(t){this.remaining=t,this.timer(this.remaining)},Pomodoro.prototype.pausePlay=function(){this.playSound("tick"),clearInterval(this.interval),this.isPaused(!this.isPaused()),this.updateTitle(),this.isPaused()?this.remaining=this.timer():this.startTimer()},Pomodoro.prototype.adjustDuration=function(t){this.playSound("tock"),this.isPaused()||this.pausePlay(),t>0&&this.duration()+t>=3600?this.duration(3600):0>t&&this.duration()+t<1?this.duration(this.timer()):this.duration(this.timer()-this.timer()%60+t),this.setTimer(this.duration())},$(document).ready(function(){var t=new Pomodoro(1500);ko.applyBindings(t),$tomato=$("#tomato"),$tomato.click(function(){t.pausePlay()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvbW9kb3JvLmpzIiwidG9tYXRvLmpzIl0sIm5hbWVzIjpbIlBvbW9kb3JvIiwiZHVyYXRpb24iLCJzZWxmIiwidGhpcyIsImtvIiwib2JzZXJ2YWJsZSIsInJlbWFpbmluZyIsInRpbWVyIiwiZWxhcHNlZCIsImlzUGF1c2VkIiwibWludXRlcyIsImNvbXB1dGVkIiwicGFyc2VJbnQiLCJzZWNvbmRzIiwicyIsIm11dGUiLCJhdWRpbyIsIm11dGVkIiwiJHNvdW5kQnRuIiwiJCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJiZWxsIiwiQXVkaW8iLCJ0aWNrIiwiY3JhbmsiLCJ0b2NrIiwicHJvdG90eXBlIiwiY2xvY2siLCJ0aW1lIiwiRGF0ZSIsImdldFRpbWUiLCJzdGFydCIsIk1hdGgiLCJmbG9vciIsInJvdW5kIiwicmVzZXRUaW1lciIsInVwZGF0ZVRpdGxlIiwic3RhcnRUaW1lciIsInBsYXlTb3VuZCIsIm1lIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm5hbWUiLCJwbGF5IiwiZG9jdW1lbnQiLCJ0aXRsZSIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lciIsInBhdXNlUGxheSIsImFkanVzdER1cmF0aW9uIiwicmVhZHkiLCJwIiwiYXBwbHlCaW5kaW5ncyIsIiR0b21hdG8iLCJjbGljayJdLCJtYXBwaW5ncyI6IkFBQ0EsUUFBQUEsVUFBQUMsR0FDQSxHQUFBQyxHQUFBQyxJQUVBRCxHQUFBRCxTQUFBLEVBQUFHLEdBQUFDLFdBQUFKLEdBQUFHLEdBQUFDLFdBQUEsTUFFQUgsRUFBQUksVUFBQUosRUFBQUQsV0FFQUMsRUFBQUssTUFBQUgsR0FBQUMsV0FBQUgsRUFBQUksV0FFQUosRUFBQU0sUUFBQSxFQUdBTixFQUFBTyxTQUFBTCxHQUFBQyxZQUFBLEdBSUFILEVBQUFRLFFBQUFOLEdBQUFPLFNBQUEsV0FDQSxNQUFBQyxVQUFBVixFQUFBSyxRQUFBLEdBQUEsTUFHQUwsRUFBQVcsUUFBQVQsR0FBQU8sU0FBQSxXQUNBLEdBQUFH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OiBzZWNvbmRzXG5mdW5jdGlvbiBQb21vZG9ybyhkdXJhdGlvbikge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdC8vIFVzZXIgaW5pdGlhbCBkdXJhdGlvbi4gRGVmYXVsdCAyNSBtaW5zLlxuXHRzZWxmLmR1cmF0aW9uID0gKGR1cmF0aW9uKSA/IGtvLm9ic2VydmFibGUoZHVyYXRpb24pIDoga28ub2JzZXJ2YWJsZSgyNSAqIDYwKTtcblx0Ly8gVGltZSByZW1haW5pbmcgaW4gc2Vjb25kcy4gVXNlZCB0byBrZWVwIHRyYWNrIG9mIHRpbWUgd2hlbiB1c2luZyBzZXRUaW1lcigpIGFuZCBwYXVzZVBsYXkoKVxuXHRzZWxmLnJlbWFpbmluZyA9IHNlbGYuZHVyYXRpb24oKTtcblx0Ly8gUnVubmluZyBUaW1lclxuXHRzZWxmLnRpbWVyID0ga28ub2JzZXJ2YWJsZShzZWxmLnJlbWFpbmluZyk7XG5cdC8vIFVzZWQgaW4gY2xvY2sgbWV0aG9kIHRvIGtlZXAgdGltZXIgYWNjdXJhdGUgKHNldEludGVydmFsKVxuXHRzZWxmLmVsYXBzZWQgPSAwO1xuXG5cdC8vIFBhdXNlIHN0YXR1cyBhbmQgdmlld1xuXHRzZWxmLmlzUGF1c2VkID0ga28ub2JzZXJ2YWJsZSh0cnVlKTtcblxuXG5cdC8vIE1pbnV0ZXMgVmlld1xuXHRzZWxmLm1pbnV0ZXMgPSBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gcGFyc2VJbnQoc2VsZi50aW1lcigpIC8gNjAsIDEwKTtcblx0fSk7XG5cdC8vIFNlY29uZHMgVmlld1xuXHRzZWxmLnNlY29uZHMgPSBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcblx0XHR2YXIgcyA9IHBhcnNlSW50KHNlbGYudGltZXIoKSAlIDYwLCAxMCk7XG5cdFx0cmV0dXJuIChzIDwgMTApID8gJzAnICsgcyA6IHM7XG5cdH0pO1xuXHRcblx0Ly8gQXVkaW9cblx0c2VsZi5tdXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0c2VsZi5hdWRpby5tdXRlZCA9ICFzZWxmLmF1ZGlvLm11dGVkO1xuXHRcdCRzb3VuZEJ0biA9ICQoJy5zb3VuZCcpO1xuXHRcdGlmKHNlbGYuYXVkaW8ubXV0ZWQpIHtcblx0XHRcdCRzb3VuZEJ0bi5yZW1vdmVDbGFzcygnZmEtYmVsbC1vJyk7XG5cdFx0XHQkc291bmRCdG4uYWRkQ2xhc3MoJ2ZhLWJlbGwtc2xhc2gtbycpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdCRzb3VuZEJ0bi5yZW1vdmVDbGFzcygnZmEtYmVsbC1zbGFzaC1vJyk7XG5cdFx0XHQkc291bmRCdG4uYWRkQ2xhc3MoJ2ZhLWJlbGwtbycpO1xuXHRcdH1cblx0fTtcblx0c2VsZi5hdWRpbyA9IHtcblx0XHRtdXRlZDogZmFsc2UsXG5cdFx0YmVsbDogbmV3IEF1ZGlvKCdhdWRpby9iZWxsLm1wMycpLFxuXHRcdHRpY2s6IG5ldyBBdWRpbygnYXVkaW8vdGljay5tcDMnKSxcblx0XHRjcmFuazogbmV3IEF1ZGlvKCdhdWRpby9jcmFuay5tcDMnKSxcblx0XHR0b2NrOiBuZXcgQXVkaW8oJ2F1ZGlvL3RvY2sud2F2Jylcblx0fTtcbn1cblxuUG9tb2Rvcm8ucHJvdG90eXBlLmNsb2NrID0gZnVuY3Rpb24oKSB7XG5cdC8vIEFkanVzdCB0aW1lIGRyaWZ0XG5cdHZhciB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0O1xuXHR0aGlzLmVsYXBzZWQgPSBNYXRoLmZsb29yKHRpbWUgLyAxMDAgLyAxMCk7XG5cdGlmKE1hdGgucm91bmQodGhpcy5lbGFwc2VkKSA9PT0gdGhpcy5lbGFwc2VkKSB7XG5cdFx0dGhpcy5lbGFwc2VkKys7XG5cdH1cblx0Ly8gVXBkYXRlIHRpbWVyIHRvIG5ldyB2YWx1ZVxuXHR0aGlzLnRpbWVyKHRoaXMucmVtYWluaW5nIC0gdGhpcy5lbGFwc2VkKTtcblx0Ly8gQ2hlY2sgaWYgdGltZSBpcyB1cFxuXHRpZiAodGhpcy50aW1lcigpIDwgMCkge1xuXHRcdHRoaXMucmVzZXRUaW1lcigpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHRoaXMudXBkYXRlVGl0bGUoKTtcblx0fVxufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLnN0YXJ0VGltZXIgPSBmdW5jdGlvbigpIHtcblx0Ly8gaWYgdGhpcyBpcyBub3Qgc2V0IHRoZW4gY2FsbGluZyB0aGUgc2V0SW50ZXJ2YWwgZnVuY3Rpb24gd2l0aCB0aGlzLmNsb2NrIHdpbGwgc2V0ICd0aGlzJyB0byBnbG9iYWxcblx0dGhpcy5wbGF5U291bmQoJ3RpY2snKTtcblx0Ly8gVXNlZCB0byBhZGp1c3QgdGltZSBpbnNpZGUgY2xvY2sgbWV0aG9kXG5cdHRoaXMuc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0Ly8gU3RhcnQgc2V0SW50ZXJ2YWxcblx0dmFyIG1lID0gdGhpcztcblx0dGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdG1lLmNsb2NrKCk7XG5cdH0sIDEwMCk7XG59O1xuXG5Qb21vZG9yby5wcm90b3R5cGUucGxheVNvdW5kID0gZnVuY3Rpb24obmFtZSkge1xuXHRpZiAoIXRoaXMuYXVkaW8ubXV0ZWQpIHtcblx0XHRzd2l0Y2ggKG5hbWUpIHtcblx0XHQgICAgY2FzZSBcImJlbGxcIjpcblx0XHQgICAgXHR0aGlzLmF1ZGlvLmJlbGwucGxheSgpO1xuXHRcdCAgICAgICAgYnJlYWs7XG5cdFx0ICAgIGNhc2UgXCJjcmFua1wiOlxuXHRcdCAgICAgICAgdGhpcy5hdWRpby5jcmFuay5wbGF5KCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHQgICAgY2FzZSBcInRpY2tcIjpcblx0XHQgICAgICAgIHRoaXMuYXVkaW8udGljay5wbGF5KCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHQgICAgY2FzZSBcInRvY2tcIjpcblx0XHQgICAgICAgIHRoaXMuYXVkaW8udG9jay5wbGF5KCk7XG5cdFx0ICAgICAgICBicmVhaztcblx0XHR9XG5cdH1cbn07XG4gXG4vLyBVcGRhdGVzIHBhZ2UgdGl0bGUgdG8gc2hvdyBtaW51dGVzOnNlY29uZHMgcmVtYWluaW5nLiBTaWRlIGVmZmVjdHMgZnVuY3Rpb25cblBvbW9kb3JvLnByb3RvdHlwZS51cGRhdGVUaXRsZSA9IGZ1bmN0aW9uKCkge1xuXHRkb2N1bWVudC50aXRsZSA9ICh0aGlzLmlzUGF1c2VkKCkpID8gJ3BvbW9kb3JvJyA6IHRoaXMubWludXRlcygpICsgJzonICsgdGhpcy5zZWNvbmRzKCk7XG59O1xuXG5Qb21vZG9yby5wcm90b3R5cGUucmVzZXRUaW1lciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnBsYXlTb3VuZCgnYmVsbCcpO1xuXHQvLyBFbmQgc2V0SW50ZXJ2YWxcblx0Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcblx0Ly8gUGF1c2UgYW5kIHVwZGF0ZSB0aXRsZVxuXHR0aGlzLmlzUGF1c2VkKHRydWUpO1xuXHR0aGlzLnVwZGF0ZVRpdGxlKCk7XG5cdC8vIFNldCB0aW1lciB0byB1c2VyIGluaXRpYWwgZHVyYXRpb25cblx0dGhpcy5zZXRUaW1lcih0aGlzLmR1cmF0aW9uKCkpO1xufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLnNldFRpbWVyID0gZnVuY3Rpb24oZHVyYXRpb24pIHtcblx0dGhpcy5yZW1haW5pbmcgPSBkdXJhdGlvbjtcblx0dGhpcy50aW1lcih0aGlzLnJlbWFpbmluZyk7XG59O1xuXG5Qb21vZG9yby5wcm90b3R5cGUucGF1c2VQbGF5ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMucGxheVNvdW5kKCd0aWNrJyk7XG5cdGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG5cdHRoaXMuaXNQYXVzZWQoIXRoaXMuaXNQYXVzZWQoKSk7XG5cdHRoaXMudXBkYXRlVGl0bGUoKTtcblx0aWYgKCF0aGlzLmlzUGF1c2VkKCkpIHRoaXMuc3RhcnRUaW1lcigpO1xuXHRlbHNlIHRoaXMucmVtYWluaW5nID0gdGhpcy50aW1lcigpO1xufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLmFkanVzdER1cmF0aW9uID0gZnVuY3Rpb24oc2Vjb25kcykge1xuXHR0aGlzLnBsYXlTb3VuZCgndG9jaycpO1xuXHRpZiAoIXRoaXMuaXNQYXVzZWQoKSkgdGhpcy5wYXVzZVBsYXkoKTtcblx0aWYgKHNlY29uZHMgPiAwICYmIHRoaXMuZHVyYXRpb24oKSArIHNlY29uZHMgPj0gMzYwMCkge1xuXHRcdHRoaXMuZHVyYXRpb24oMzYwMCk7XG5cdH1cblx0ZWxzZSBpZiAoc2Vjb25kcyA8IDAgJiYgdGhpcy5kdXJhdGlvbigpICsgc2Vjb25kcyA8IDEpIHtcblx0XHR0aGlzLmR1cmF0aW9uKHRoaXMudGltZXIoKSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0dGhpcy5kdXJhdGlvbih0aGlzLnRpbWVyKCkgLSAodGhpcy50aW1lcigpICUgNjApICsgc2Vjb25kcyk7XG5cdH1cblx0dGhpcy5zZXRUaW1lcih0aGlzLmR1cmF0aW9uKCkpO1xufTtcbiIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cdC8vIEluaXRpYWxpemUgUG9tb2Rvcm8gY2xvY2sgVmlld01vZGVsIGNvbnN0cnVjdG9yIGFuZCBhcHBseSBrbm9ja291dCBiaW5kaW5nc1xuXHR2YXIgcCA9IG5ldyBQb21vZG9ybygxNTAwKTtcblx0a28uYXBwbHlCaW5kaW5ncyhwKTtcblx0Ly8gQXBwbHkgcGF1c2UvcGxheSBjbGljayBvbiB0b21hdG8gZWxlbWVudFxuXHQkdG9tYXRvID0gJCgnI3RvbWF0bycpO1xuXHQkdG9tYXRvLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdHAucGF1c2VQbGF5KCk7XG5cdH0pO1xuXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
