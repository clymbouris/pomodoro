function Pomodoro(t){var i=this;i.duration=t?ko.observable(t):ko.observable(1500),i.remaining=i.duration(),i.timer=ko.observable(i.remaining),i.isPaused=ko.observable(!0),i.pauseView=ko.computed(function(){return i.isPaused()?"paused":""}),i.minutesView=ko.computed(function(){var t=parseInt(i.timer()/60,10);return t}),i.secondsView=ko.computed(function(){var t=parseInt(i.timer()%60,10);return 10>t?"0"+t:t}),i.elapsed=0,i.bell=new Audio("audio/bell.mp3"),i.tick=new Audio("audio/tick.mp3")}Pomodoro.prototype.clock=function(){var t=(new Date).getTime()-this.start;this.elapsed=Math.floor(t/100/10),Math.round(this.elapsed)===this.elapsed&&this.elapsed++,this.timer(this.remaining-this.elapsed),this.timer()<0&&(this.resetTimer(),this.ringTimer()),this.timer()<10&&this.tick.play()},Pomodoro.prototype.startTimer=function(){var t=this;this.start=(new Date).getTime(),this.interval=setInterval(function(){t.clock()},100)},Pomodoro.prototype.resetTimer=function(){clearInterval(this.interval),this.isPaused(!0),this.setTimer(this.duration())},Pomodoro.prototype.ringTimer=function(){console.log("Ring, ring!"),this.bell.play()},Pomodoro.prototype.setTimer=function(t){this.remaining=t,this.timer(this.remaining)},Pomodoro.prototype.pausePlay=function(){clearInterval(this.interval),this.isPaused(!this.isPaused()),this.isPaused()?this.remaining=this.timer():this.startTimer()},Pomodoro.prototype.adjustDuration=function(t){this.isPaused()||this.pausePlay(),t>0&&this.duration()+t>=3600?this.duration(3600):0>t&&this.duration()+t<1?this.duration(this.timer()):this.duration(this.duration()+t),this.setTimer(this.duration())},$(document).ready(function(){var t=new Pomodoro(60);ko.applyBindings(t),$tomato=$("#tomato"),$tomato.click(function(){t.pausePlay()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvbW9kb3JvLmpzIiwidG9tYXRvLmpzIl0sIm5hbWVzIjpbIlBvbW9kb3JvIiwiZHVyYXRpb24iLCJzZWxmIiwidGhpcyIsImtvIiwib2JzZXJ2YWJsZSIsInJlbWFpbmluZyIsInRpbWVyIiwiaXNQYXVzZWQiLCJwYXVzZVZpZXciLCJjb21wdXRlZCIsIm1pbnV0ZXNWaWV3IiwibWludXRlcyIsInBhcnNlSW50Iiwic2Vjb25kc1ZpZXciLCJzZWNvbmRzIiwiZWxhcHNlZCIsImJlbGwiLCJBdWRpbyIsInRpY2siLCJwcm90b3R5cGUiLCJjbG9jayIsInRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsInN0YXJ0IiwiTWF0aCIsImZsb29yIiwicm91bmQiLCJyZXNldFRpbWVyIiwicmluZ1RpbWVyIiwicGxheSIsInN0YXJ0VGltZXIiLCJtZSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic2V0VGltZXIiLCJjb25zb2xlIiwibG9nIiwicGF1c2VQbGF5IiwiYWRqdXN0RHVyYXRpb24iLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInAiLCJhcHBseUJpbmRpbmdzIiwiJHRvbWF0byIsImNsaWNrIl0sIm1hcHBpbmdzIjoiQUFDQSxRQUFBQSxVQUFBQyxHQUNBLEdBQUFDLEdBQUFDLElBRUFELEdBQUFELFNBQUEsRUFBQUcsR0FBQUMsV0FBQUosR0FBQUcsR0FBQUMsV0FBQSxNQUVBSCxFQUFBSSxVQUFBSixFQUFBRCxXQUVBQyxFQUFBSyxNQUFBSCxHQUFBQyxXQUFBSCxFQUFBSSxXQUVBSixFQUFBTSxTQUFBSixHQUFBQyxZQUFBLEdBQ0FILEVBQUFPLFVBQUFMLEdBQUFNLFNBQUEsV0FDQSxNQUFBUixHQUFBTSxXQUFBLFNBQUEsS0FHQU4sRUFBQVMsWUFBQVAsR0FBQU0sU0FBQSxXQUNBLEdBQUFFLEdBQUFDLFNBQUFYLEVBQUFLLFFBQUEsR0FBQSxHQUNBLE9BQUFLLEtBR0FWLEVBQUFZLFlBQUFWLEdBQUFNLFNBQUEsV0FDQSxHQUFBSyxHQUFBRixTQUFBWCxFQUFBSyxRQUFBLEdBQUEsR0FDQSxPQUFBLElBQUFRLEVBQUEsSUFBQUEsRUFBQUEsSUFHQWIsRUFBQWMsUUFBQSxFQUVBZCxFQUFBZSxLQUFBLEdBQUFDLE9BQUEsa0JBQ0FoQixFQUFBaUIsS0FBQSxHQUFBRCxPQUFBLGtCQUdBbEIsU0FBQW9CLFVBQUFDLE1BQUEsV0FDQSxHQUFBQyxJQUFBLEdBQUFDLE9BQUFDLFVBQUFyQixLQUFBc0IsS0FDQXRCLE1BQUFhLFFBQUFVLEtBQUFDLE1BQUFMLEVBQUEsSUFBQSxJQUNBSSxLQUFBRSxNQUFBekIsS0FBQWEsV0FBQWIsS0FBQWEsU0FDQWIsS0FBQWEsVUFFQWIsS0FBQUksTUFBQUosS0FBQUcsVUFBQUgsS0FBQWEsU0FDQWIsS0FBQUksUUFBQSxJQUNBSixLQUFBMEIsYUFDQTFCLEtBQUEyQixhQUVBM0IsS0FBQUksUUFBQSxJQUNBSixLQUFBZ0IsS0FBQVksUUFJQS9CLFNBQUFvQixVQUFBWSxXQUFBLFdBRUEsR0FBQUMsR0FBQTlCLElBQ0FBLE1BQUFzQixPQUFBLEdBQUFGLE9BQUFDLFVBQ0FyQixLQUFBK0IsU0FBQUMsWUFBQSxXQUNBRixFQUFBWixTQUNBLE1BR0FyQixTQUFBb0IsVUFBQVMsV0FBQSxXQUNBTyxjQUFBakMsS0FBQStCLFVBQ0EvQixLQUFBSyxVQUFBLEdBQ0FMLEtBQUFrQyxTQUFBbEMsS0FBQUYsYUFHQUQsU0FBQW9CLFVBQUFVLFVBQUEsV0FDQVEsUUFBQUMsSUFBQSxlQUNBcEMsS0FBQWMsS0FBQWMsUUFHQS9CLFNBQUFvQixVQUFBaUIsU0FBQSxTQUFBcEMsR0FDQUUsS0FBQUcsVUFBQUwsRUFDQUUsS0FBQUksTUFBQUosS0FBQUcsWUFHQU4sU0FBQW9CLFVBQUFvQixVQUFBLFdBQ0FKLGNBQUFqQyxLQUFBK0IsVUFDQS9CLEtBQUFLLFVBQUFMLEtBQUFLLFlBQ0FMLEtBQUFLLFdBQ0FMLEtBQUFHLFVBQUFILEtBQUFJLFFBREFKLEtBQUE2QixjQUlBaEMsU0FBQW9CLFVBQUFxQixlQUFBLFNBQUExQixHQUNBWixLQUFBSyxZQUFBTCxLQUFBcUMsWUFDQXpCLEVBQUEsR0FBQVosS0FBQUYsV0FBQWMsR0FBQSxLQUNBWixLQUFBRixTQUFBLE1BRUEsRUFBQWMsR0FBQVosS0FBQUYsV0FBQWMsRUFBQSxFQUNBWixLQUFBRixTQUFBRSxLQUFBSSxTQUdBSixLQUFBRixTQUFBRSxLQUFBRixXQUFBYyxHQUVBWixLQUFBa0MsU0FBQWxDLEtBQUFGLGFDMUZBeUMsRUFBQUMsVUFBQUMsTUFBQSxXQUNBLEdBQUFDLEdBQUEsR0FBQTdDLFVBQUEsR0FDQUksSUFBQTBDLGNBQUFELEdBQ0FFLFFBQUFMLEVBQUEsV0FDQUssUUFBQUMsTUFBQSxXQUNBSCxFQUFBTCIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAvLyBkdXJhdGlvbjogc2Vjb25kc1xuZnVuY3Rpb24gUG9tb2Rvcm8oZHVyYXRpb24pIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHQvLyBUaW1lIGR1cmF0aW9uIGFzIHNldCBieSBVc2VyXG5cdHNlbGYuZHVyYXRpb24gPSAoZHVyYXRpb24pID8ga28ub2JzZXJ2YWJsZShkdXJhdGlvbikgOiBrby5vYnNlcnZhYmxlKDI1ICogNjApO1xuXHQvLyBUaW1lIHJlbWFpbmluZyBpbiBzZWNvbmRzXG5cdHNlbGYucmVtYWluaW5nID0gc2VsZi5kdXJhdGlvbigpO1xuXHQvLyBSdW5uaW5nIFRpbWVyXG5cdHNlbGYudGltZXIgPSBrby5vYnNlcnZhYmxlKHNlbGYucmVtYWluaW5nKTtcblx0Ly8gUGF1c2Ugc3RhdHVzIGFuZCB2aWV3XG5cdHNlbGYuaXNQYXVzZWQgPSBrby5vYnNlcnZhYmxlKHRydWUpO1xuXHRzZWxmLnBhdXNlVmlldyA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoc2VsZi5pc1BhdXNlZCgpKSA/ICdwYXVzZWQnIDogJyc7XG5cdH0pO1xuXHQvLyBNaW51dGVzIFZpZXdcblx0c2VsZi5taW51dGVzVmlldyA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtaW51dGVzID0gcGFyc2VJbnQoc2VsZi50aW1lcigpIC8gNjAsIDEwKTtcblx0XHRyZXR1cm4gbWludXRlcztcblx0fSk7XG5cdC8vIFNlY29uZHMgVmlld1xuXHRzZWxmLnNlY29uZHNWaWV3ID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHNlY29uZHMgPSBwYXJzZUludChzZWxmLnRpbWVyKCkgJSA2MCwgMTApO1xuXHRcdHJldHVybiAoc2Vjb25kcyA8IDEwKSA/ICcwJyArIHNlY29uZHMgOiBzZWNvbmRzO1xuXHR9KTtcblx0Ly8gVG8ga2VlcCBjbG9jayBmdW5jdGlvbiBhY2N1cmF0ZVxuXHRzZWxmLmVsYXBzZWQgPSAwO1xuXHQvLyBTb3VuZEZYXG5cdHNlbGYuYmVsbCA9IG5ldyBBdWRpbygnYXVkaW8vYmVsbC5tcDMnKTtcblx0c2VsZi50aWNrID0gbmV3IEF1ZGlvKCdhdWRpby90aWNrLm1wMycpO1xufVxuXG5Qb21vZG9yby5wcm90b3R5cGUuY2xvY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuc3RhcnQ7XG5cdHRoaXMuZWxhcHNlZCA9IE1hdGguZmxvb3IodGltZSAvIDEwMCAvIDEwKTtcblx0aWYoTWF0aC5yb3VuZCh0aGlzLmVsYXBzZWQpID09PSB0aGlzLmVsYXBzZWQpIHtcblx0XHR0aGlzLmVsYXBzZWQrKztcblx0fVxuXHR0aGlzLnRpbWVyKHRoaXMucmVtYWluaW5nIC0gdGhpcy5lbGFwc2VkKTtcblx0aWYodGhpcy50aW1lcigpIDwgMCkge1xuXHRcdHRoaXMucmVzZXRUaW1lcigpO1xuXHRcdHRoaXMucmluZ1RpbWVyKCk7XG5cdH1cblx0aWYodGhpcy50aW1lcigpIDwgMTApIHtcblx0XHR0aGlzLnRpY2sucGxheSgpO1xuXHR9XG59O1xuXG5Qb21vZG9yby5wcm90b3R5cGUuc3RhcnRUaW1lciA9IGZ1bmN0aW9uKCkge1xuXHQvLyBpZiB0aGlzIGlzIG5vdCBzZXQgdGhlbiBjYWxsaW5nIHRoZSBzZXRJbnRlcnZhbCBmdW5jdGlvbiB3aXRoIHRoaXMuY2xvY2sgd2lsbCBzZXQgJ3RoaXMnIHRvIGdsb2JhbFxuXHR2YXIgbWUgPSB0aGlzO1xuXHR0aGlzLnN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRtZS5jbG9jaygpO1xuXHR9LCAxMDApO1xufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLnJlc2V0VGltZXIgPSBmdW5jdGlvbigpIHtcblx0Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcblx0dGhpcy5pc1BhdXNlZCh0cnVlKTtcblx0dGhpcy5zZXRUaW1lcih0aGlzLmR1cmF0aW9uKCkpO1xufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLnJpbmdUaW1lciA9IGZ1bmN0aW9uKCkge1xuXHRjb25zb2xlLmxvZygnUmluZywgcmluZyEnKTtcblx0dGhpcy5iZWxsLnBsYXkoKTtcbn07XG5cblBvbW9kb3JvLnByb3RvdHlwZS5zZXRUaW1lciA9IGZ1bmN0aW9uKGR1cmF0aW9uKSB7XG5cdHRoaXMucmVtYWluaW5nID0gZHVyYXRpb247XG5cdHRoaXMudGltZXIodGhpcy5yZW1haW5pbmcpO1xufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLnBhdXNlUGxheSA9IGZ1bmN0aW9uKCkge1xuXHRjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuXHR0aGlzLmlzUGF1c2VkKCF0aGlzLmlzUGF1c2VkKCkpO1xuXHRpZiAoIXRoaXMuaXNQYXVzZWQoKSkgdGhpcy5zdGFydFRpbWVyKCk7IFxuXHRlbHNlIHRoaXMucmVtYWluaW5nID0gdGhpcy50aW1lcigpO1xufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLmFkanVzdER1cmF0aW9uID0gZnVuY3Rpb24oc2Vjb25kcykge1xuXHRpZiAoIXRoaXMuaXNQYXVzZWQoKSkgdGhpcy5wYXVzZVBsYXkoKTtcblx0aWYgKHNlY29uZHMgPiAwICYmIHRoaXMuZHVyYXRpb24oKSArIHNlY29uZHMgPj0gMzYwMCkge1xuXHRcdHRoaXMuZHVyYXRpb24oMzYwMCk7XG5cdH1cblx0ZWxzZSBpZiAoc2Vjb25kcyA8IDAgJiYgdGhpcy5kdXJhdGlvbigpICsgc2Vjb25kcyA8IDEpIHtcblx0XHR0aGlzLmR1cmF0aW9uKHRoaXMudGltZXIoKSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0dGhpcy5kdXJhdGlvbih0aGlzLmR1cmF0aW9uKCkgKyBzZWNvbmRzKTtcblx0fVxuXHR0aGlzLnNldFRpbWVyKHRoaXMuZHVyYXRpb24oKSk7XG59O1xuIiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblx0dmFyIHAgPSBuZXcgUG9tb2Rvcm8oNjApO1xuXHRrby5hcHBseUJpbmRpbmdzKHApO1xuXHQkdG9tYXRvID0gJCgnI3RvbWF0bycpO1xuXHQkdG9tYXRvLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdHAucGF1c2VQbGF5KCk7XG5cdH0pO1xufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
