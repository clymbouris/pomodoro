function Pomodoro(t){var i=this;i.duration=t?ko.observable(t):ko.observable(1500),i.remaining=i.duration(),i.timer=ko.observable(i.remaining),i.isPaused=ko.observable(!0),i.pauseView=ko.computed(function(){return i.isPaused()?"paused":""}),i.minutesView=ko.computed(function(){var t=parseInt(i.timer()/60,10);return t}),i.secondsView=ko.computed(function(){var t=parseInt(i.timer()%60,10);return 10>t?"0"+t:t}),i.elapsed=0,i.bell=new Audio("audio/bell.mp3"),i.tick=new Audio("audio/tick.mp3"),i.tock=new Audio("audio/tock.wav"),i.crank=new Audio("audio/crank.mp3"),i.tickStart=new Audio("audio/start.mp3")}Pomodoro.prototype.clock=function(){var t=(new Date).getTime()-this.start;this.elapsed=Math.floor(t/100/10),Math.round(this.elapsed)===this.elapsed&&this.elapsed++,this.timer(this.remaining-this.elapsed),this.timer()<0&&(this.resetTimer(),this.ringTimer())},Pomodoro.prototype.startTimer=function(){this.tick.play();var t=this;this.start=(new Date).getTime(),this.interval=setInterval(function(){t.clock()},100)},Pomodoro.prototype.resetTimer=function(){clearInterval(this.interval),this.crank.play(),this.isPaused(!0),this.setTimer(this.duration())},Pomodoro.prototype.ringTimer=function(){console.log("Ring, ring!"),this.bell.play()},Pomodoro.prototype.setTimer=function(t){this.remaining=t,this.timer(this.remaining)},Pomodoro.prototype.pausePlay=function(){this.tick.play(),clearInterval(this.interval),this.isPaused(!this.isPaused()),this.isPaused()?this.remaining=this.timer():this.startTimer()},Pomodoro.prototype.adjustDuration=function(t){this.isPaused()||this.pausePlay(),this.tock.play(),t>0&&this.duration()+t>=3600?this.duration(3600):0>t&&this.duration()+t<1?this.duration(this.timer()):this.duration(this.timer()-this.timer()%60+t),this.setTimer(this.duration())},$(document).ready(function(){var t=new Pomodoro(1500);ko.applyBindings(t),$tomato=$("#tomato"),$tomato.click(function(){t.pausePlay()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvbW9kb3JvLmpzIiwidG9tYXRvLmpzIl0sIm5hbWVzIjpbIlBvbW9kb3JvIiwiZHVyYXRpb24iLCJzZWxmIiwidGhpcyIsImtvIiwib2JzZXJ2YWJsZSIsInJlbWFpbmluZyIsInRpbWVyIiwiaXNQYXVzZWQiLCJwYXVzZVZpZXciLCJjb21wdXRlZCIsIm1pbnV0ZXNWaWV3IiwibWludXRlcyIsInBhcnNlSW50Iiwic2Vjb25kc1ZpZXciLCJzZWNvbmRzIiwiZWxhcHNlZCIsImJlbGwiLCJBdWRpbyIsInRpY2siLCJ0b2NrIiwiY3JhbmsiLCJ0aWNrU3RhcnQiLCJwcm90b3R5cGUiLCJjbG9jayIsInRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsInN0YXJ0IiwiTWF0aCIsImZsb29yIiwicm91bmQiLCJyZXNldFRpbWVyIiwicmluZ1RpbWVyIiwic3RhcnRUaW1lciIsInBsYXkiLCJtZSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic2V0VGltZXIiLCJjb25zb2xlIiwibG9nIiwicGF1c2VQbGF5IiwiYWRqdXN0RHVyYXRpb24iLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInAiLCJhcHBseUJpbmRpbmdzIiwiJHRvbWF0byIsImNsaWNrIl0sIm1hcHBpbmdzIjoiQUFDQSxRQUFBQSxVQUFBQyxHQUNBLEdBQUFDLEdBQUFDLElBRUFELEdBQUFELFNBQUEsRUFBQUcsR0FBQUMsV0FBQUosR0FBQUcsR0FBQUMsV0FBQSxNQUVBSCxFQUFBSSxVQUFBSixFQUFBRCxXQUVBQyxFQUFBSyxNQUFBSCxHQUFBQyxXQUFBSCxFQUFBSSxXQUVBSixFQUFBTSxTQUFBSixHQUFBQyxZQUFBLEdBQ0FILEVBQUFPLFVBQUFMLEdBQUFNLFNBQUEsV0FDQSxNQUFBUixHQUFBTSxXQUFBLFNBQUEsS0FHQU4sRUFBQVMsWUFBQVAsR0FBQU0sU0FBQSxXQUNBLEdBQUFFLEdBQUFDLFNBQUFYLEVBQUFLLFFBQUEsR0FBQSxHQUNBLE9BQUFLLEtBR0FWLEVBQUFZLFlBQUFWLEdBQUFNLFNBQUEsV0FDQSxHQUFBSyxHQUFBRixTQUFBWCxFQUFBSyxRQUFBLEdBQUEsR0FDQSxPQUFBLElBQUFRLEVBQUEsSUFBQUEsRUFBQUEsSUFHQWIsRUFBQWMsUUFBQSxFQUVBZCxFQUFBZSxLQUFBLEdBQUFDLE9BQUEsa0JBQ0FoQixFQUFBaUIsS0FBQSxHQUFBRCxPQUFBLGtCQUNBaEIsRUFBQWtCLEtBQUEsR0FBQUYsT0FBQSxrQkFDQWhCLEVBQUFtQixNQUFBLEdBQUFILE9BQUEsbUJBQ0FoQixFQUFBb0IsVUFBQSxHQUFBSixPQUFBLG1CQUdBbEIsU0FBQXVCLFVBQUFDLE1BQUEsV0FDQSxHQUFBQyxJQUFBLEdBQUFDLE9BQUFDLFVBQUF4QixLQUFBeUIsS0FDQXpCLE1BQUFhLFFBQUFhLEtBQUFDLE1BQUFMLEVBQUEsSUFBQSxJQUNBSSxLQUFBRSxNQUFBNUIsS0FBQWEsV0FBQWIsS0FBQWEsU0FDQWIsS0FBQWEsVUFFQWIsS0FBQUksTUFBQUosS0FBQUcsVUFBQUgsS0FBQWEsU0FDQWIsS0FBQUksUUFBQSxJQUNBSixLQUFBNkIsYUFDQTdCLEtBQUE4QixjQUlBakMsU0FBQXVCLFVBQUFXLFdBQUEsV0FFQS9CLEtBQUFnQixLQUFBZ0IsTUFDQSxJQUFBQyxHQUFBakMsSUFDQUEsTUFBQXlCLE9BQUEsR0FBQUYsT0FBQUMsVUFDQXhCLEtBQUFrQyxTQUFBQyxZQUFBLFdBQ0FGLEVBQUFaLFNBQ0EsTUFHQXhCLFNBQUF1QixVQUFBUyxXQUFBLFdBQ0FPLGNBQUFwQyxLQUFBa0MsVUFDQWxDLEtBQUFrQixNQUFBYyxPQUNBaEMsS0FBQUssVUFBQSxHQUNBTCxLQUFBcUMsU0FBQXJDLEtBQUFGLGFBR0FELFNBQUF1QixVQUFBVSxVQUFBLFdBQ0FRLFFBQUFDLElBQUEsZUFDQXZDLEtBQUFjLEtBQUFrQixRQUdBbkMsU0FBQXVCLFVBQUFpQixTQUFBLFNBQUF2QyxHQUNBRSxLQUFBRyxVQUFBTCxFQUNBRSxLQUFBSSxNQUFBSixLQUFBRyxZQUdBTixTQUFBdUIsVUFBQW9CLFVBQUEsV0FDQXhDLEtBQUFnQixLQUFBZ0IsT0FDQUksY0FBQXBDLEtBQUFrQyxVQUNBbEMsS0FBQUssVUFBQUwsS0FBQUssWUFDQUwsS0FBQUssV0FDQUwsS0FBQUcsVUFBQUgsS0FBQUksUUFEQUosS0FBQStCLGNBSUFsQyxTQUFBdUIsVUFBQXFCLGVBQUEsU0FBQTdCLEdBQ0FaLEtBQUFLLFlBQUFMLEtBQUF3QyxZQUNBeEMsS0FBQWlCLEtBQUFlLE9BQ0FwQixFQUFBLEdBQUFaLEtBQUFGLFdBQUFjLEdBQUEsS0FDQVosS0FBQUYsU0FBQSxNQUVBLEVBQUFjLEdBQUFaLEtBQUFGLFdBQUFjLEVBQUEsRUFDQVosS0FBQUYsU0FBQUUsS0FBQUksU0FHQUosS0FBQUYsU0FBQUUsS0FBQUksUUFBQUosS0FBQUksUUFBQSxHQUFBUSxHQUVBWixLQUFBcUMsU0FBQXJDLEtBQUFGLGFDOUZBNEMsRUFBQUMsVUFBQUMsTUFBQSxXQUVBLEdBQUFDLEdBQUEsR0FBQWhELFVBQUEsS0FDQUksSUFBQTZDLGNBQUFELEdBRUFFLFFBQUFMLEVBQUEsV0FDQUssUUFBQUMsTUFBQSxXQUNBSCxFQUFBTCIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAvLyBkdXJhdGlvbjogc2Vjb25kc1xuZnVuY3Rpb24gUG9tb2Rvcm8oZHVyYXRpb24pIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHQvLyBUaW1lIGR1cmF0aW9uIGFzIHNldCBieSBVc2VyLiBXZSBzdG9yZSB0aGlzIHRvIGhhdmUgaXQgYXZhaWxhYmxlIG9uIHJlc2V0LiBEZWZhdWx0IDI1IG1pbnMuXG5cdHNlbGYuZHVyYXRpb24gPSAoZHVyYXRpb24pID8ga28ub2JzZXJ2YWJsZShkdXJhdGlvbikgOiBrby5vYnNlcnZhYmxlKDI1ICogNjApO1xuXHQvLyBUaW1lIHJlbWFpbmluZyBpbiBzZWNvbmRzXG5cdHNlbGYucmVtYWluaW5nID0gc2VsZi5kdXJhdGlvbigpO1xuXHQvLyBSdW5uaW5nIFRpbWVyXG5cdHNlbGYudGltZXIgPSBrby5vYnNlcnZhYmxlKHNlbGYucmVtYWluaW5nKTtcblx0Ly8gUGF1c2Ugc3RhdHVzIGFuZCB2aWV3XG5cdHNlbGYuaXNQYXVzZWQgPSBrby5vYnNlcnZhYmxlKHRydWUpO1xuXHRzZWxmLnBhdXNlVmlldyA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoc2VsZi5pc1BhdXNlZCgpKSA/ICdwYXVzZWQnIDogJyc7XG5cdH0pO1xuXHQvLyBNaW51dGVzIFZpZXdcblx0c2VsZi5taW51dGVzVmlldyA9IGtvLmNvbXB1dGVkKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtaW51dGVzID0gcGFyc2VJbnQoc2VsZi50aW1lcigpIC8gNjAsIDEwKTtcblx0XHRyZXR1cm4gbWludXRlcztcblx0fSk7XG5cdC8vIFNlY29uZHMgVmlld1xuXHRzZWxmLnNlY29uZHNWaWV3ID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHNlY29uZHMgPSBwYXJzZUludChzZWxmLnRpbWVyKCkgJSA2MCwgMTApO1xuXHRcdHJldHVybiAoc2Vjb25kcyA8IDEwKSA/ICcwJyArIHNlY29uZHMgOiBzZWNvbmRzO1xuXHR9KTtcblx0Ly8gVG8ga2VlcCBjbG9jayBmdW5jdGlvbiBhY2N1cmF0ZVxuXHRzZWxmLmVsYXBzZWQgPSAwO1xuXHQvLyBTb3VuZEZYXG5cdHNlbGYuYmVsbCA9IG5ldyBBdWRpbygnYXVkaW8vYmVsbC5tcDMnKTtcblx0c2VsZi50aWNrID0gbmV3IEF1ZGlvKCdhdWRpby90aWNrLm1wMycpO1xuXHRzZWxmLnRvY2sgPSBuZXcgQXVkaW8oJ2F1ZGlvL3RvY2sud2F2Jyk7XG5cdHNlbGYuY3JhbmsgPSBuZXcgQXVkaW8oJ2F1ZGlvL2NyYW5rLm1wMycpO1xuXHRzZWxmLnRpY2tTdGFydCA9IG5ldyBBdWRpbygnYXVkaW8vc3RhcnQubXAzJyk7XG59XG5cblBvbW9kb3JvLnByb3RvdHlwZS5jbG9jayA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5zdGFydDtcblx0dGhpcy5lbGFwc2VkID0gTWF0aC5mbG9vcih0aW1lIC8gMTAwIC8gMTApO1xuXHRpZihNYXRoLnJvdW5kKHRoaXMuZWxhcHNlZCkgPT09IHRoaXMuZWxhcHNlZCkge1xuXHRcdHRoaXMuZWxhcHNlZCsrO1xuXHR9XG5cdHRoaXMudGltZXIodGhpcy5yZW1haW5pbmcgLSB0aGlzLmVsYXBzZWQpO1xuXHRpZih0aGlzLnRpbWVyKCkgPCAwKSB7XG5cdFx0dGhpcy5yZXNldFRpbWVyKCk7XG5cdFx0dGhpcy5yaW5nVGltZXIoKTtcblx0fVxufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLnN0YXJ0VGltZXIgPSBmdW5jdGlvbigpIHtcblx0Ly8gaWYgdGhpcyBpcyBub3Qgc2V0IHRoZW4gY2FsbGluZyB0aGUgc2V0SW50ZXJ2YWwgZnVuY3Rpb24gd2l0aCB0aGlzLmNsb2NrIHdpbGwgc2V0ICd0aGlzJyB0byBnbG9iYWxcblx0dGhpcy50aWNrLnBsYXkoKTtcblx0dmFyIG1lID0gdGhpcztcblx0dGhpcy5zdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHR0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0bWUuY2xvY2soKTtcblx0fSwgMTAwKTtcbn07XG5cblBvbW9kb3JvLnByb3RvdHlwZS5yZXNldFRpbWVyID0gZnVuY3Rpb24oKSB7XG5cdGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG5cdHRoaXMuY3JhbmsucGxheSgpO1xuXHR0aGlzLmlzUGF1c2VkKHRydWUpO1xuXHR0aGlzLnNldFRpbWVyKHRoaXMuZHVyYXRpb24oKSk7XG59O1xuXG5Qb21vZG9yby5wcm90b3R5cGUucmluZ1RpbWVyID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKCdSaW5nLCByaW5nIScpO1xuXHR0aGlzLmJlbGwucGxheSgpOyBcbn07XG5cblBvbW9kb3JvLnByb3RvdHlwZS5zZXRUaW1lciA9IGZ1bmN0aW9uKGR1cmF0aW9uKSB7XG5cdHRoaXMucmVtYWluaW5nID0gZHVyYXRpb247XG5cdHRoaXMudGltZXIodGhpcy5yZW1haW5pbmcpO1xufTtcblxuUG9tb2Rvcm8ucHJvdG90eXBlLnBhdXNlUGxheSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnRpY2sucGxheSgpO1xuXHRjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuXHR0aGlzLmlzUGF1c2VkKCF0aGlzLmlzUGF1c2VkKCkpO1xuXHRpZiAoIXRoaXMuaXNQYXVzZWQoKSkgdGhpcy5zdGFydFRpbWVyKCk7XG5cdGVsc2UgdGhpcy5yZW1haW5pbmcgPSB0aGlzLnRpbWVyKCk7XG59O1xuXG5Qb21vZG9yby5wcm90b3R5cGUuYWRqdXN0RHVyYXRpb24gPSBmdW5jdGlvbihzZWNvbmRzKSB7XG5cdGlmICghdGhpcy5pc1BhdXNlZCgpKSB0aGlzLnBhdXNlUGxheSgpO1xuXHR0aGlzLnRvY2sucGxheSgpO1xuXHRpZiAoc2Vjb25kcyA+IDAgJiYgdGhpcy5kdXJhdGlvbigpICsgc2Vjb25kcyA+PSAzNjAwKSB7XG5cdFx0dGhpcy5kdXJhdGlvbigzNjAwKTtcblx0fVxuXHRlbHNlIGlmIChzZWNvbmRzIDwgMCAmJiB0aGlzLmR1cmF0aW9uKCkgKyBzZWNvbmRzIDwgMSkge1xuXHRcdHRoaXMuZHVyYXRpb24odGhpcy50aW1lcigpKTtcblx0fVxuXHRlbHNlIHtcblx0XHR0aGlzLmR1cmF0aW9uKHRoaXMudGltZXIoKSAtICh0aGlzLnRpbWVyKCkgJSA2MCkgKyBzZWNvbmRzKTtcblx0fVxuXHR0aGlzLnNldFRpbWVyKHRoaXMuZHVyYXRpb24oKSk7XG59O1xuIiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblx0Ly8gSW5pdGlhbGl6ZSBQb21vZG9ybyBjbG9jayBWaWV3TW9kZWwgY29uc3RydWN0b3IgYW5kIGFwcGx5IGtub2Nrb3V0IGJpbmRpbmdzXG5cdHZhciBwID0gbmV3IFBvbW9kb3JvKDE1MDApO1xuXHRrby5hcHBseUJpbmRpbmdzKHApO1xuXHQvLyBBcHBseSBwYXVzZS9wbGF5IGNsaWNrIG9uIHRvbWF0byBlbGVtZW50XG5cdCR0b21hdG8gPSAkKCcjdG9tYXRvJyk7XG5cdCR0b21hdG8uY2xpY2soZnVuY3Rpb24oKSB7XG5cdFx0cC5wYXVzZVBsYXkoKTtcblx0fSk7XG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
